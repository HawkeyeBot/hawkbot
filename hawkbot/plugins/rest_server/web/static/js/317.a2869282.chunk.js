"use strict";(self.webpackChunkhawkbot_frontend=self.webpackChunkhawkbot_frontend||[]).push([[317],{5212:function(e,n,i){var r=i(1413),t=i(5987),o=i(2007),l=i.n(o),s=i(6907),c=i(2791),a=i(4554),d=i(184),h=["children","title","meta"],u=(0,c.forwardRef)((function(e,n){var i=e.children,o=e.title,l=void 0===o?"":o,c=e.meta,u=(0,t.Z)(e,h);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(s.ql,{children:[(0,d.jsx)("title",{children:"".concat(l," | Hawkbot")}),c]}),(0,d.jsx)(a.Z,(0,r.Z)((0,r.Z)({ref:n},u),{},{children:i}))]})}));u.propTypes={children:l().node.isRequired,title:l().string,meta:l().node},n.Z=u},2317:function(e,n,i){i.r(n),i.d(n,{default:function(){return ye}});var r=i(9164),t=i(1889),o=i(5703),l=i(5212),s=i(9439),c=i(7621),a=i(9585),d=i(6314),h=i(9955),u=i(890),x=i(9281),p=i(9836),Z=i(6890),j=i(5855),m=i(3994),f=i(3382),g=i(7578),v=i(6192),b=i(5361),y=i(2791),C=i(3967),_=i(3400),L=i(6125),w=i(4554),S=i(5172),A=i(5678),T=i(3058),k=i(5987),I=i(1413),N=i(6934),O=i(2065),E=i(184),R=["color","variant","children"],W=(0,N.ZP)("span")((function(e){var n=e.theme,i=e.ownerState,r="light"===n.palette.mode,t=i.color,o=i.variant;return(0,I.Z)({height:22,minWidth:22,lineHeight:0,borderRadius:8,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:n.spacing(0,1),color:n.palette.grey[800],fontSize:n.typography.pxToRem(12),fontFamily:n.typography.fontFamily,backgroundColor:n.palette.grey[300],fontWeight:n.typography.fontWeightBold},"default"!==t?(0,I.Z)((0,I.Z)((0,I.Z)({},"filled"===o&&(0,I.Z)({},function(e){return{color:n.palette[e].contrastText,backgroundColor:n.palette[e].main}}(t))),"outlined"===o&&(0,I.Z)({},function(e){return{color:n.palette[e].main,backgroundColor:"transparent",border:"1px solid ".concat(n.palette[e].main)}}(t))),"ghost"===o&&(0,I.Z)({},function(e){return{color:n.palette[e][r?"dark":"light"],backgroundColor:(0,O.Fq)(n.palette[e].main,.16)}}(t))):(0,I.Z)((0,I.Z)({},"outlined"===o&&{backgroundColor:"transparent",color:n.palette.text.primary,border:"1px solid ".concat(n.palette.grey[50032])}),"ghost"===o&&{color:r?n.palette.text.secondary:n.palette.common.white,backgroundColor:n.palette.grey[50016]}))}));function M(e){var n=e.color,i=void 0===n?"default":n,r=e.variant,t=void 0===r?"ghost":r,o=e.children,l=(0,k.Z)(e,R);return(0,E.jsx)(W,(0,I.Z)((0,I.Z)({ownerState:{color:i,variant:t}},l),{},{children:o}))}var P=i(3786),z=i(8096),D=i(4845),F={NORMAL:{label:"NORMAL",value:"NORMAL"},GRACEFUL_STOP:{label:"GRACEFUL",value:"GRACEFUL_STOP"},EXIT_ONLY:{label:"EXIT_ONLY",value:"EXIT_ONLY"},MANUAL_INITIAL_ENTRY:{label:"MANUAL_INITIAL_ENTRY",value:"MANUAL_INITIAL_ENTRY"},MANUAL:{label:"MANUAL",value:"MANUAL"},NO_ORDERS_ALLOWED:{label:"NO_ORDERS_ALLOWED",value:"NO_ORDERS_ALLOWED"},PANIC:{label:"PANIC",value:"PANIC",requiresValidation:!0},WIGGLE:{label:"WIGGLE",value:"WIGGLE"}},G=i(6151),Y=i(5289),U=i(7123),q=i(9157),H=i(1691),J=i(5661),B=i(5931),X=y.forwardRef((function(e,n){return(0,E.jsx)(B.Z,(0,I.Z)({direction:"up",ref:n},e))}));function K(e){var n=e.open,i=e.onConfirm,r=e.mode,t=e.onClose;return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(Y.Z,{open:n,onClose:t,TransitionComponent:X,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",children:[(0,E.jsxs)(J.Z,{children:["Warning regarding ",r," mode"]}),(0,E.jsx)(q.Z,{sx:{pb:0,mt:2.4},children:(0,E.jsx)(H.Z,{id:"alert-dialog-slide-description",children:"This mode will sell your position with a MARKET order."})}),(0,E.jsxs)(U.Z,{children:[(0,E.jsx)(G.Z,{variant:"contained",onClick:i,children:"Confirm"}),(0,E.jsx)(G.Z,{variant:"outlined",onClick:t,children:"Cancel"})]})]})})}var V=i(6951),Q=i(9259),$=function(){var e=(0,y.useState)({}),n=(0,s.Z)(e,2),i=n[0],r=n[1],t=(0,V.Ds)(),o=t.enqueueSnackbar,l=t.closeSnackbar;return(0,y.useEffect)((function(){if(null!==i&&void 0!==i&&i.msg){var e="info";i.variant&&(e=i.variant),o(i.msg,{variant:e,autoHideDuration:5e3,action:function(e){return(0,E.jsx)(y.Fragment,{children:(0,E.jsx)(_.Z,{onClick:function(){l(e)},children:(0,E.jsx)(Q.Z,{})})})},anchorOrigin:{vertical:"bottom",horizontal:"center"}})}}),[i,o,l]),[r]},ee=i(4569),ne=i.n(ee),ie=function(e,n,i,r,t,o){ne().post("http://localhost:6969/setMode",{symbol:i,mode:e,position_side:r}).then((function(n){o({msg:"Your mode was correctly set to ".concat(e," for ").concat(i," ").concat(r),variant:"success"})})).catch((function(l){o({msg:"Something wrong happened when setting ".concat(i," ").concat(r," to ").concat(e),variant:"error"}),t(n)}))};function re(e){var n,i=e.currentMode,r=e.symbol,t=e.position_side,o=(0,y.useState)(i),l=(0,s.Z)(o,2),c=l[0],a=l[1],d=(0,y.useState)(i),h=(0,s.Z)(d,2),u=h[0],x=h[1],p=(0,y.useState)(!1),Z=(0,s.Z)(p,2),j=Z[0],m=Z[1],f=$(),g=(0,s.Z)(f,1)[0];return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(z.Z,{sx:{minWidth:125},size:"small",children:(0,E.jsx)(D.Z,{value:null===(n=F[c])||void 0===n?void 0:n.value,onChange:function(e){var n,i=e.target.value;x(c),a(i),null!==(n=F[i])&&void 0!==n&&n.requiresValidation?m(!0):ie(i,u,r,t,a,g)},children:Object.values(F).map((function(e){return(0,E.jsx)(P.Z,{value:e.value,children:e.label},e.value)}))})}),(0,E.jsx)(K,{open:j,onConfirm:function(){ie(c,u,r,t,a,g),m(!1)},onClose:function(){m(!1),a(u)},mode:c})]})}var te=i(765),oe=i(5523),le=i(1419),se=i(763),ce=function(e){var n=e.symbol,i=e.position_side,r=e.position_size,t=$(),o=(0,s.Z)(t,1)[0],l=(0,y.useState)(null),c=(0,s.Z)(l,2),a=c[0],d=c[1],h=(0,y.useState)(!1),u=(0,s.Z)(h,2),x=u[0],p=u[1],Z=null===a,j=(0,se.isEmpty)(r),m=function(){d(null),p(!1)};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(_.Z,{"aria-label":"close",size:"small",onClick:function(){return p(!0)},disabled:j,color:j?"default":"error",children:(0,E.jsx)(T.Z,{fontSize:"small"})}),(0,E.jsxs)(Y.Z,{open:x,onClose:m,TransitionComponent:ae,keepMounted:!0,"aria-describedby":"alert-dialog-slide-close-position",children:[(0,E.jsx)(J.Z,{children:"Order type selection"}),(0,E.jsxs)(q.Z,{sx:{pb:0,mt:2.4},children:[(0,E.jsxs)(H.Z,{id:"alert-dialog-slide-description",children:["Choose the order type for closing your ",n," ",i," position"]}),(0,E.jsx)(z.Z,{children:(0,E.jsxs)(te.Z,{row:!0,"aria-labelledby":"ordertype-controlled-radio-buttons-group",name:"controlled-radio-buttons-group",value:a,onChange:function(e){d(e.target.value)},children:[(0,E.jsx)(oe.Z,{value:"LIMIT",control:(0,E.jsx)(le.Z,{}),label:"Limit"}),(0,E.jsx)(oe.Z,{value:"MARKET",control:(0,E.jsx)(le.Z,{}),label:"Market"})]})})]}),(0,E.jsxs)(U.Z,{children:[(0,E.jsx)(G.Z,{variant:"contained",disabled:Z,onClick:function(){!function(e,n,i,r){ne().post("http://localhost:6969/closePosition",{symbol:e,position_side:n,orderType:i}).then((function(t){r({msg:"A ".concat(i," close for ").concat(e," ").concat(n," was sent"),variant:"success"})})).catch((function(t){r({msg:"Something wrong happened when trying to ".concat(i," close for ").concat(e," ").concat(n),variant:"error"})}))}(n,i,a,o),m()},children:"Close position"}),(0,E.jsx)(G.Z,{variant:"outlined",onClick:m,children:"Cancel"})]})]})]})},ae=y.forwardRef((function(e,n){return(0,E.jsx)(B.Z,(0,I.Z)({direction:"up",ref:n},e))})),de=function(e){var n=e.symbol,i=e.side,r=e.positionSides,t="light"===(0,C.Z)().palette.mode,o=$(),l=(0,s.Z)(o,1)[0],c=(0,v.sJ)(b.SH).open_orders,a=(0,y.useState)(!1),h=(0,s.Z)(a,2),x=h[0],g=h[1],k=r&&r[i],I=k.cost,N=k.entry_price,O=k.position_size,R=k.current_price,W=k.mode,P=k.pnl_abs,z=k.pnl_pct,D=c[n].filter((function(e){return(null===e||void 0===e?void 0:e.position_side)===i})),F=D.filter((function(e){return"DCA"===(null===e||void 0===e?void 0:e.order_type_identifier)||"ENTRY"===(null===e||void 0===e?void 0:e.order_type_identifier)})).length,G=D.filter((function(e){return"TP"===(null===e||void 0===e?void 0:e.order_type_identifier)})).length,Y=function(e){var n=e.children;return(0,E.jsx)(m.Z,{onClick:function(){return g(!x)},sx:{cursor:"pointer"},children:n})};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(j.Z,{children:[(0,E.jsx)(m.Z,{children:(0,E.jsx)(_.Z,{"aria-label":"expand row",size:"small",onClick:function(){return g(!x)},children:x?(0,E.jsx)(A.Z,{}):(0,E.jsx)(S.Z,{})})}),(0,E.jsx)(Y,{children:(0,E.jsx)(d.Z,{direction:"row",alignItems:"center",spacing:2,children:(0,E.jsx)(u.Z,{color:"LONG"===i?"#54D62C":"error",variant:"subtitle2",children:n})})}),(0,E.jsx)(Y,{children:I}),(0,E.jsx)(Y,{children:O}),(0,E.jsx)(Y,{children:N}),(0,E.jsx)(Y,{children:R}),(0,E.jsx)(Y,{children:(0,E.jsxs)(u.Z,{color:P<0?"error":"#54D62C",variant:"inherit",children:[P," ",z]})}),(0,E.jsx)(Y,{children:(0,E.jsx)(M,{variant:t?"ghost":"filled",children:G})}),(0,E.jsx)(Y,{children:(0,E.jsx)(M,{variant:t?"ghost":"filled",color:F>1||O<1?"default":1===F?"warning":"error",children:F})}),(0,E.jsx)(m.Z,{children:(0,E.jsx)(re,{currentMode:W,symbol:n,position_side:i})}),(0,E.jsx)(m.Z,{align:"right",children:(0,E.jsx)(ce,{symbol:n,position_side:i,position_size:O})})]}),(0,E.jsx)(j.Z,{children:(0,E.jsx)(m.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:12,children:(0,E.jsx)(L.Z,{in:x,timeout:"auto",unmountOnExit:!0,children:(0,E.jsx)(w.Z,{sx:{margin:0},children:(0,E.jsxs)(p.Z,{size:"small","aria-label":"purchases",children:[(0,E.jsx)(Z.Z,{children:(0,E.jsxs)(j.Z,{children:[(0,E.jsx)(m.Z,{children:"Order Type"}),(0,E.jsx)(m.Z,{children:"Cost"}),(0,E.jsx)(m.Z,{align:"right",children:"Price"}),(0,E.jsx)(m.Z,{align:"right",children:"Quantity"}),(0,E.jsx)(m.Z,{align:"right",children:"Type"}),(0,E.jsx)(m.Z,{align:"right",children:"Side"}),(0,E.jsx)(m.Z,{align:"right",children:"Cancel"})]})}),(0,E.jsx)(f.Z,{children:D.sort((function(e,n){return n.price-e.price})).map((function(e){var i=e.id,r=e.order_type_identifier,t=e.quantity,o=e.side,s=e.type,c=e.cost,a=e.price;return(0,E.jsxs)(j.Z,{children:[(0,E.jsx)(m.Z,{component:"th",scope:"row",children:r}),(0,E.jsx)(m.Z,{children:c}),(0,E.jsx)(m.Z,{align:"right",children:a}),(0,E.jsx)(m.Z,{align:"right",children:t}),(0,E.jsx)(m.Z,{align:"right",children:s}),(0,E.jsx)(m.Z,{align:"right",children:(0,E.jsx)(u.Z,{color:"BUY"===o?"#54D62C":"error",variant:"subtitle2",children:o})}),(0,E.jsx)(m.Z,{align:"right",children:(0,E.jsx)(_.Z,{"aria-label":"close",size:"small",color:"default",onClick:function(){return function(e,n,i){ne().post("http://localhost:6969/cancelOrder",{symbol:e,order_id:n}).then((function(r){i({msg:"Your order ".concat(n," for ").concat(e," was cancelled"),variant:"success"})})).catch((function(r){i({msg:"Something wrong happened when cancelling order ".concat(n," for ").concat(e),variant:"error"})}))}(n,i,l)},children:(0,E.jsx)(T.Z,{fontSize:"small"})})})]},i)}))})]})})})})})]})};function he(){var e=(0,y.useState)(!0),n=(0,s.Z)(e,2),i=n[0],r=n[1],t=(0,v.sJ)(b.SH).positions;return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(c.Z,{children:[(0,E.jsx)(a.Z,{title:"Positions",sx:{mb:1},action:(0,E.jsxs)(d.Z,{direction:"row",alignItems:"center",children:[(0,E.jsx)(h.Z,{size:"small",checked:i,onChange:function(e){return r(e.target.checked)},inputProps:{"aria-label":"controlled"}}),(0,E.jsx)(u.Z,{variant:"subtitle2",children:"Show inactive positions"})]})}),(0,E.jsx)(g.Z,{children:(0,E.jsx)(x.Z,{sx:{minWidth:720},children:(0,E.jsxs)(p.Z,{size:"small",children:[(0,E.jsx)(Z.Z,{children:(0,E.jsxs)(j.Z,{children:[(0,E.jsx)(m.Z,{}),(0,E.jsx)(m.Z,{sx:{minWidth:40},children:"Symbol"}),(0,E.jsx)(m.Z,{sx:{minWidth:40},children:"Cost"}),(0,E.jsx)(m.Z,{sx:{minWidth:40},children:"Size"}),(0,E.jsx)(m.Z,{sx:{minWidth:40},children:"Position price"}),(0,E.jsx)(m.Z,{sx:{minWidth:40},children:"Current price"}),(0,E.jsx)(m.Z,{sx:{minWidth:40},children:"PnL"}),(0,E.jsx)(m.Z,{sx:{minWidth:20},children:"TP"}),(0,E.jsx)(m.Z,{sx:{minWidth:20},children:"DCA"}),(0,E.jsx)(m.Z,{sx:{minWidth:40},children:"Mode"}),(0,E.jsx)(m.Z,{sx:{minWidth:20},children:"Close"})]})}),(0,E.jsx)(f.Z,{children:Object.keys(t).map((function(e){var n=t[e];return Object.keys(n).map((function(r){return!i&&(0,se.isEmpty)(n[r].position_size)?null:(0,E.jsx)(de,{symbol:e,side:r,positionSides:n},"".concat(e,"_").concat(r))}))}))})]})})})]})})}var ue=i(9504),xe=i(6562),pe=i(5245),Ze=i(8666),je=i(5651),me=i(5552),fe=i(7454),ge=i(8861);function ve(){var e=(0,v.sJ)(b.SH).latest_orders;return(0,E.jsxs)(c.Z,{sx:{"& .MuiTimelineItem-missingOppositeContent:before":{display:"none"},".MuiTimelineItem-root":{minHeight:60}},children:[(0,E.jsx)(a.Z,{title:"Latest orders"}),(0,E.jsx)(ue.Z,{children:(0,E.jsx)(xe.Z,{children:e.filter((function(e){return"FILLED"===(null===e||void 0===e?void 0:e.status)})).map((function(n,i){return(0,E.jsx)(be,{order:n,isLast:i===e.length-1},n.id)}))})})]})}function be(e){var n=e.order,i=e.isLast,r=n.event_time,t=n.order_type_identifier,o=n.position_side,l=n.quantity,s=n.symbol,c=n.price;return(0,E.jsxs)(pe.Z,{children:[(0,E.jsxs)(Ze.Z,{children:[(0,E.jsx)(je.Z,{color:("TP_REFILL"===t?"warning":"TP"===t&&"success")||"INITIAL_ENTRY"===t&&"info"||"error"}),i?null:(0,E.jsx)(me.Z,{})]}),(0,E.jsxs)(fe.Z,{children:[(0,E.jsxs)(d.Z,{direction:"row",spacing:.5,children:[(0,E.jsx)(u.Z,{display:"inline",variant:"subtitle2",color:"LONG"===o?"#54D62C":"error",children:s}),(0,E.jsx)(u.Z,{display:"inline",variant:"subtitle2",children:t})]}),(0,E.jsxs)(d.Z,{direction:"row",spacing:.5,children:[(0,E.jsxs)(u.Z,{display:"inline",variant:"caption",children:[l," @ ",c," -"]}),(0,E.jsx)(u.Z,{display:"inline",variant:"caption",children:(0,ge.Je)(r)})]})]})]})}function ye(){var e=(0,o.Z)().themeStretch;return(0,E.jsx)(l.Z,{title:"Overview",children:(0,E.jsx)(r.Z,{maxWidth:!e&&"xl",children:(0,E.jsxs)(t.ZP,{container:!0,spacing:3,children:[(0,E.jsx)(t.ZP,{item:!0,xs:9,children:(0,E.jsx)(he,{})}),(0,E.jsx)(t.ZP,{item:!0,xs:5,md:5,lg:2.6,children:(0,E.jsx)(ve,{})})]})})})}}}]);
//# sourceMappingURL=317.a2869282.chunk.js.map